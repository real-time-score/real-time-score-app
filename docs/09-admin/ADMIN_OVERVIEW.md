# 관리자 기능 개요 (Admin Overview)

## 1. 개요

이 문서는 스포츠스코어픽 앱의 관리자(Admin) 시스템 전체 구조와 기능을 정의합니다.

- **원본 PDF 참조**: 전체 문서에서 관리자 관련 요구사항 추출
- **적용 범위**: Admin 웹 페이지 전체

---

## 2. Admin 시스템 구조

### 2.1 기술 스택

| 항목 | 기술 |
|------|------|
| 프레임워크 | Next.js 15 |
| 언어 | TypeScript |
| 스타일링 | Tailwind CSS |
| 상태관리 | [확인 필요] |
| API 통신 | REST API |

### 2.2 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────┐
│                    Admin Web Application                 │
├─────────────────────────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐    │
│  │  유저   │  │ 컨텐츠  │  │  경기   │  │  통계   │    │
│  │  관리   │  │  관리   │  │  관리   │  │ 대시보드│    │
│  └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘    │
│       │            │            │            │          │
│       └────────────┴────────────┴────────────┘          │
│                         │                                │
│                    REST API                              │
├─────────────────────────────────────────────────────────┤
│                    Backend Server                        │
├─────────────────────────────────────────────────────────┤
│                      Database                            │
└─────────────────────────────────────────────────────────┘
```

---

## 3. 권한 체계

### 3.1 관리자 역할

| 역할 | 설명 | 권한 범위 |
|------|------|-----------|
| 슈퍼관리자 | 시스템 전체 관리 | 모든 기능 접근 가능 |
| 일반관리자 | 일상 운영 관리 | 컨텐츠, 유저 관리 |
| 운영자 | 컨텐츠 운영 | 게시글, 댓글 관리 |

### 3.2 권한 매트릭스

| 기능 | 슈퍼관리자 | 일반관리자 | 운영자 |
|------|:----------:|:----------:|:------:|
| 관리자 계정 관리 | ✅ | ❌ | ❌ |
| 유저 관리 | ✅ | ✅ | ❌ |
| 픽전문가 관리 | ✅ | ✅ | ❌ |
| 배너 관리 | ✅ | ✅ | ✅ |
| 게시글/댓글 관리 | ✅ | ✅ | ✅ |
| 경기 데이터 관리 | ✅ | ✅ | ❌ |
| 통계 조회 | ✅ | ✅ | ✅ |
| 시스템 설정 | ✅ | ❌ | ❌ |

---

## 4. 주요 기능 영역

### 4.1 유저 관리 (USER_MANAGEMENT.md)

| 기능 | 설명 |
|------|------|
| 회원 목록 조회 | 전체 회원 리스트, 검색, 필터링 |
| 회원 상세 조회 | 회원 정보, 활동 내역 |
| 회원 제재 | 정지, 탈퇴 처리 |
| 픽전문가 관리 | 전문가 승인, 등급 관리 |
| 활동온도 관리 | 온도 조정, 기준 설정 |

### 4.2 컨텐츠 관리 (CONTENT_MANAGEMENT.md)

| 기능 | 설명 |
|------|------|
| 배너 관리 | 메인 배너, 이벤트 배너 CRUD |
| 공지사항 관리 | 공지사항 CRUD |
| 이벤트 관리 | 이벤트 CRUD |
| FAQ 관리 | FAQ 카테고리별 CRUD |
| 약관 관리 | 이용약관, 개인정보처리방침 관리 |
| 게시글 관리 | 커뮤니티 게시글 모니터링, 삭제 |
| 댓글 관리 | 댓글 모니터링, 삭제 |
| 신고 관리 | 신고 내역 처리 |
| 운영자 글 관리 | 경기별 운영자 등록 글 |

### 4.3 경기 데이터 관리 (MATCH_MANAGEMENT.md)

| 기능 | 설명 |
|------|------|
| 종목 카테고리 관리 | 스포츠 종목 CRUD |
| 서브 카테고리 관리 | 리그/대회 CRUD |
| 경기 일정 관리 | 경기 데이터 연동, 수동 등록 |
| 배당 정보 관리 | 승무패, 핸디캡, 언오버 배당 |
| 예측게임 항목 관리 | 경기별 예측 항목 설정 |

### 4.4 통계/대시보드 (STATISTICS.md)

| 기능 | 설명 |
|------|------|
| 대시보드 | 주요 지표 요약 |
| 유저 통계 | 가입/탈퇴, 활성 유저 |
| 컨텐츠 통계 | 게시글, 댓글, 픽 현황 |
| 매출 통계 | 유료 픽 판매, 포인트 사용 |
| 푸시 통계 | 발송/도달/클릭률 |

---

## 5. 푸시 발송 정책

### 5.1 푸시 알림 유형

PDF 85페이지 기준, 총 13가지 푸시 알림 유형:

| # | 알림 유형 | 발송 조건 | 발송 대상 |
|---|----------|-----------|-----------|
| 1 | 경기 시작 | 경기 시작 시 | 해당 경기 알림 설정 유저 |
| 2 | 경기 종료 | 경기 종료 시 | 해당 경기 알림 설정 유저 |
| 3 | 점수 변동 | 득점 발생 시 | 해당 경기 알림 설정 유저 |
| 4 | 관심 경기 리마인드 | 경기 시작 N분 전 | 관심 경기 등록 유저 |
| 5 | 새 픽 등록 | 픽전문가 픽 등록 시 | 해당 전문가 팔로우 유저 |
| 6 | 픽 결과 | 픽 결과 확정 시 | 해당 픽 구매 유저 |
| 7 | 댓글 알림 | 내 글에 댓글 시 | 글 작성자 |
| 8 | 대댓글 알림 | 내 댓글에 대댓글 시 | 댓글 작성자 |
| 9 | 좋아요 알림 | 내 글에 좋아요 시 | 글 작성자 |
| 10 | 포인트 지급 | 포인트 지급 시 | 해당 유저 |
| 11 | 공지사항 | 새 공지사항 등록 시 | 전체 유저 |
| 12 | 이벤트 | 새 이벤트 등록 시 | 전체 유저 |
| 13 | 마케팅 | 마케팅 푸시 발송 시 | 마케팅 수신 동의 유저 |

### 5.2 푸시 관리 기능

- 푸시 템플릿 관리
- 푸시 발송 이력 조회
- 수동 푸시 발송 (전체/타겟)
- 푸시 통계 (발송/도달/클릭)

---

## 6. Admin 화면 구조

### 6.1 사이드바 메뉴

```
├── 대시보드
├── 유저 관리
│   ├── 회원 관리
│   └── 픽전문가 관리
├── 컨텐츠 관리
│   ├── 배너 관리
│   ├── 공지사항
│   ├── 이벤트
│   ├── FAQ
│   ├── 약관
│   └── 운영자 글
├── 커뮤니티 관리
│   ├── 게시글 관리
│   ├── 댓글 관리
│   └── 신고 관리
├── 경기 관리
│   ├── 종목 카테고리
│   ├── 경기 일정
│   ├── 배당 정보
│   └── 예측게임 항목
├── 푸시 관리
│   ├── 푸시 발송
│   └── 발송 이력
├── 통계
│   ├── 유저 통계
│   ├── 컨텐츠 통계
│   └── 매출 통계
└── 설정
    ├── 관리자 계정
    └── 시스템 설정
```

---

## 7. 공통 UI 컴포넌트

### 7.1 테이블 컴포넌트

| 기능 | 설명 |
|------|------|
| 페이지네이션 | 페이지 단위 데이터 로딩 |
| 정렬 | 컬럼별 오름차순/내림차순 |
| 검색 | 키워드 검색 |
| 필터 | 조건별 필터링 |
| 일괄 선택 | 체크박스 다중 선택 |
| 일괄 작업 | 선택 항목 일괄 처리 |

### 7.2 폼 컴포넌트

| 컴포넌트 | 용도 |
|----------|------|
| Input | 텍스트 입력 |
| Textarea | 장문 텍스트 |
| Select | 드롭다운 선택 |
| DatePicker | 날짜 선택 |
| ImageUpload | 이미지 업로드 |
| RichEditor | HTML 에디터 |
| Toggle | On/Off 스위치 |

### 7.3 Modal

| 타입 | 용도 |
|------|------|
| Confirm | 삭제, 승인 등 확인 |
| Alert | 결과 안내 |
| Form | 생성/수정 폼 |

---

## 8. 인증 및 보안

### 8.1 로그인

- 관리자 ID/PW 로그인
- 2FA (선택적) [확인 필요]
- 세션 타임아웃: 30분

### 8.2 보안 정책

| 항목 | 정책 |
|------|------|
| 비밀번호 | 최소 8자, 영문+숫자+특수문자 |
| 로그인 실패 | 5회 실패 시 계정 잠금 |
| 접근 로그 | 모든 관리자 행위 기록 |
| IP 제한 | 허용 IP만 접근 (선택적) |

---

## 9. API 설계 방향

### 9.1 RESTful API 규칙

```
GET    /api/admin/{resource}         # 목록 조회
GET    /api/admin/{resource}/{id}    # 상세 조회
POST   /api/admin/{resource}         # 생성
PUT    /api/admin/{resource}/{id}    # 수정
DELETE /api/admin/{resource}/{id}    # 삭제
```

### 9.2 공통 Response 구조

```typescript
interface ApiResponse<T> {
  success: boolean;
  data?: T;
  error?: {
    code: string;
    message: string;
  };
  meta?: {
    page: number;
    limit: number;
    total: number;
  };
}
```

---

## 10. 버전 관리

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| v0.1 | 2025-12-22 | 초기 작성 |
