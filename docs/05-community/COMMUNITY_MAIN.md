# 커뮤니티 메인 화면

## 1. 개요

커뮤니티 메인 화면은 사용자들이 게시글을 탐색하고, 카테고리별로 필터링하며, 새 게시글을 작성할 수 있는 진입점입니다.

- **원본 PDF 참조**: 53-54페이지

---

## 2. 화면 구성

### 2.1 전체 레이아웃

```
┌─────────────────────────────────────┐
│           커뮤니티                   │  ← 헤더
├─────────────────────────────────────┤
│ [전체]  카테고리1  카테고리2  ...    │  ← 카테고리 탭
├─────────────────────────────────────┤
│ 총 NNNN개 등록           최신순 ▼   │  ← 게시글 수 + 정렬
├─────────────────────────────────────┤
│ ┌───────────────────────────────┐   │
│ │ 카테고리명                    │   │
│ │ 제목                    [📷] │   │
│ │ yyyy.mm.dd  👁NNN ♡NNN 💬NNN │   │  ← 게시글 카드
│ └───────────────────────────────┘   │
│ ┌───────────────────────────────┐   │
│ │ ...                           │   │
│ └───────────────────────────────┘   │
│                               (✏)   │  ← 글쓰기 플로팅 버튼
├─────────────────────────────────────┤
│  홈  픽전문가  커뮤니티  랭킹  MY   │  ← 하단 탭바
└─────────────────────────────────────┘
```

### 2.2 상단 영역

| 요소 | 설명 |
|------|------|
| 메뉴명 | "커뮤니티" 타이틀 표시 |
| 전체 게시글 수 | "총 NNNN개 등록" 형식으로 표시 |

### 2.3 카테고리 필터

| 요소 | 설명 |
|------|------|
| 전체 탭 | 모든 카테고리 게시글 보기 (Default, 네이비 배경) |
| 카테고리 탭 | 관리자가 등록한 카테고리 목록 |
| 활성 표시 | 선택된 카테고리는 네이비 배경+흰색 텍스트 |

### 2.4 정렬 필터 (바텀시트)

정렬 옵션 클릭 시 바텀시트로 정렬 옵션 노출:

| 정렬 옵션 | 설명 |
|----------|------|
| 최신순 | 최근 작성된 순서 (기본값, ✓ 체크) |
| 인기순 | 인기도 기준 정렬 |
| 댓글 많은 순 | 댓글 수 기준 내림차순 |
| 좋아요 많은 순 | 좋아요 수 기준 내림차순 |
| 조회수 높은 순 | 조회수 기준 내림차순 |

### 2.5 게시글 카드

| 요소 | 설명 |
|------|------|
| 카테고리명 | 게시글이 속한 카테고리 표시 |
| 제목 | 게시글 제목 |
| 썸네일 이미지 | 첨부 이미지가 있는 경우 우측에 표시 |
| 작성일 | yyyy.mm.dd 형식 |
| 조회수 | 👁 NNN 형식 |
| 좋아요 수 | ♡ NNN 형식 |
| 댓글 수 | 💬 NNN 형식 |

### 2.6 글쓰기 버튼

| 요소 | 설명 |
|------|------|
| 플로팅 버튼 | 화면 우측 하단 고정 (✏ 아이콘) |
| 동작 | 탭 시 게시글 작성 화면으로 이동 |

---

## 3. 기능 상세

### 3.1 게시글 리스트 조회

1. 앱 실행 시 전체 카테고리의 최신순 게시글 리스트 로드
2. 무한 스크롤 또는 페이지네이션으로 추가 로드
3. Pull-to-refresh로 리스트 새로고침

### 3.2 카테고리 필터링

1. 카테고리 탭 선택 시 해당 카테고리 게시글만 표시
2. 선택된 카테고리는 시각적으로 구분
3. 카테고리 변경 시 정렬 옵션 유지

### 3.3 정렬 변경

1. 정렬 드롭다운 또는 탭 선택
2. 선택된 정렬 기준으로 리스트 재정렬
3. 카테고리 필터와 조합 가능

### 3.4 게시글 선택

1. 게시글 아이템 탭 시 상세 화면으로 이동
2. 조회수 1 증가

### 3.5 글쓰기

1. 플로팅 버튼 탭 시 게시글 작성 화면으로 이동
2. 로그인 필요 (비로그인 시 로그인 유도)

---

## 4. 데이터 요구사항

### 4.1 게시글 리스트 아이템

| 필드명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| postId | String | Y | 게시글 고유 ID |
| categoryId | String | Y | 카테고리 ID |
| categoryName | String | Y | 카테고리 이름 |
| title | String | Y | 게시글 제목 |
| thumbnailUrl | String | N | 썸네일 이미지 URL |
| authorId | String | Y | 작성자 ID |
| authorNickname | String | Y | 작성자 닉네임 |
| createdAt | DateTime | Y | 작성 일시 |
| viewCount | int | Y | 조회수 |
| likeCount | int | Y | 좋아요 수 |
| commentCount | int | Y | 댓글 수 |

### 4.2 카테고리

| 필드명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| categoryId | String | Y | 카테고리 고유 ID |
| categoryName | String | Y | 카테고리 이름 |
| sortOrder | int | Y | 정렬 순서 |
| isActive | boolean | Y | 활성화 여부 |

---

## 5. API 요구사항

### 5.1 게시글 리스트 조회

```
GET /api/community/posts
```

**Query Parameters**:
| 파라미터 | 타입 | 필수 | 설명 |
|----------|------|------|------|
| categoryId | String | N | 카테고리 필터 (없으면 전체) |
| sortBy | String | N | 정렬 기준 (latest, popular, comments, likes, views) |
| page | int | N | 페이지 번호 (default: 1) |
| limit | int | N | 페이지당 개수 (default: 20) |

**Response**:
```json
{
  "success": true,
  "data": {
    "totalCount": 150,
    "posts": [
      {
        "postId": "post_001",
        "categoryId": "cat_001",
        "categoryName": "자유게시판",
        "title": "게시글 제목",
        "thumbnailUrl": "https://...",
        "authorId": "user_001",
        "authorNickname": "닉네임",
        "createdAt": "2025-12-22T10:00:00Z",
        "viewCount": 100,
        "likeCount": 25,
        "commentCount": 10
      }
    ],
    "hasNext": true
  }
}
```

### 5.2 카테고리 목록 조회

```
GET /api/community/categories
```

**Response**:
```json
{
  "success": true,
  "data": {
    "categories": [
      {
        "categoryId": "cat_001",
        "categoryName": "자유게시판",
        "sortOrder": 1,
        "isActive": true
      }
    ]
  }
}
```

---

## 6. 관리자 기능

### 6.1 카테고리 관리

| 기능 | 설명 |
|------|------|
| 카테고리 등록 | 새 카테고리 추가 |
| 카테고리 수정 | 카테고리명, 순서 변경 |
| 카테고리 삭제 | 카테고리 삭제 (게시글 처리 정책 필요) |
| 카테고리 순서 변경 | 드래그앤드롭으로 순서 조정 |
| 카테고리 활성화/비활성화 | 앱 노출 여부 제어 |

### 6.2 게시글 관리

| 기능 | 설명 |
|------|------|
| 게시글 목록 조회 | 전체 게시글 리스트 (필터/검색) |
| 게시글 상세 조회 | 게시글 내용 확인 |
| 게시글 삭제 | 부적절한 게시글 삭제 |
| 게시글 숨김 | 게시글 비공개 처리 |
| 게시글 카테고리 변경 | 게시글 카테고리 이동 |

### 6.3 Admin API

```
# 카테고리 CRUD
POST   /api/admin/community/categories
GET    /api/admin/community/categories
PUT    /api/admin/community/categories/{categoryId}
DELETE /api/admin/community/categories/{categoryId}

# 게시글 관리
GET    /api/admin/community/posts
GET    /api/admin/community/posts/{postId}
DELETE /api/admin/community/posts/{postId}
PUT    /api/admin/community/posts/{postId}/hide
PUT    /api/admin/community/posts/{postId}/category
```

---

## 7. UI/UX 고려사항

- 리스트 로딩 시 스켈레톤 UI 표시
- 빈 상태 (게시글 없음) 시 안내 문구 표시
- 네트워크 오류 시 재시도 버튼 제공
- 플로팅 버튼은 스크롤 시에도 항상 노출
