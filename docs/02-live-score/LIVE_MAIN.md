# 라이브 메인 화면 (LIVE_MAIN)

## 1. 개요

라이브 메인 화면은 스포츠스코어픽 앱의 홈(Home) 탭에서 기본으로 노출되는 핵심 화면입니다. 사용자가 다양한 스포츠 경기의 실시간 스코어와 배당 정보를 확인할 수 있는 메인 허브 역할을 합니다.

**원본 PDF 참조**: 12-13페이지

---

## 2. 화면 구성

### 2.1 전체 레이아웃

```
┌─────────────────────────────────┐
│ [🔵리알타임스코아]           🔔 │  ← 헤더 (파란색 로고)
├─────────────────────────────────┤
│        배너 이미지 (N/N)         │  ← 배너 슬라이더
├─────────────────────────────────┤
│   [LIVE]          프로토        │  ← 메인 탭 (네이비 활성 배경)
├─────────────────────────────────┤
│ 전체  축구  야구  농구  배구 ... │  ← 종목 카테고리 (텍스트)
├─────────────────────────────────┤
│  < NN    TODAY 📅    NN >       │  ← 날짜 선택
├─────────────────────────────────┤
│        경기 리스트               │  ← 메인 콘텐츠
│        (스크롤 영역)             │
├─────────────────────────────────┤
│  홈  픽전문가  커뮤니티  랭킹  MY │  ← 하단 탭바
└─────────────────────────────────┘
```

> **디자인 참고**: 헤더의 로고는 파란색 배경에 "리알타임스코아" 텍스트, LIVE 탭 활성 시 네이비색 배경+흰색 텍스트

### 2.2 UI 구성요소

| 번호 | 구성요소 | 설명 |
|-----|--------|------|
| 1 | 서비스명 | "리알타임스코아" 로고 (좌측, 파란색 배경 박스) |
| 2 | 전체알림 | 알림 아이콘 (🔔) - 터치 시 알림 목록으로 이동 |
| 3 | 배너 이미지 | 어드민 등록 배너, 3초 자동롤링, 페이지네이션 |
| 4 | LIVE/프로토 탭 | 메인 탭 메뉴, LIVE가 Default (네이비 배경+흰색 텍스트 활성) |
| 5 | 종목 카테고리 | 스포츠 종목 필터 - 텍스트 형태 (전체/축구/야구/농구 등) |
| 6 | 날짜 선택 | TODAY Default, 좌우 화살표 (< NN >), 캘린더 아이콘 |
| 7 | 경기 리스트 | 선택 조건에 맞는 경기 목록

---

## 3. 기능 상세

### 3.1 헤더 영역

#### 서비스명
- 앱 로고 "리알타임스코아" (파란색 배경 박스 형태)
- 고정 헤더로 스크롤 시에도 상단에 유지

#### 전체알림 버튼
- 알림 아이콘 터치 시 알림 목록 화면으로 이동
- 읽지 않은 알림이 있을 경우 뱃지 표시 [확인 필요]

### 3.2 배너 영역

| 항목 | 상세 |
|-----|------|
| 이미지 소스 | 어드민에서 등록된 배너 이미지 |
| 자동 롤링 | 3초마다 자동 전환 |
| 페이지네이션 | 2개 이상 등록 시 하단에 인디케이터 노출 (N/N) |
| 터치 액션 | 배너별 설정된 랜딩 URL로 이동 |

### 3.3 메인 탭 메뉴

| 탭 | 설명 |
|----|------|
| LIVE | 실시간 경기 리스트 (Default 선택) |
| 프로토 | 프로토 복권 관련 화면으로 전환 |

- 선택된 탭은 시각적으로 활성화 상태 표시
- 탭 전환 시 하위 콘텐츠 영역 변경

### 3.4 종목 카테고리

#### 지원 종목 목록

| 종목 | 비고 |
|-----|------|
| 전체 | Default 선택 |
| 축구 | |
| 야구 | |
| 농구 | |
| 배구 | |

> **디자인 참고**: 종목 카테고리는 아이콘 없이 텍스트만 표시 (전체/축구/야구/농구/배구 등)

#### 인터랙션
- 가로 스크롤로 전체 종목 탐색 가능
- 종목 선택 시 해당 종목의 경기만 필터링
- 선택된 종목은 네이비 배경 + 흰색 텍스트로 활성화 상태 표시
- 비활성 종목은 회색 텍스트

### 3.6 날짜 선택

#### UI 구성

```
< NN   TODAY 📅   NN >
```

| 요소 | 동작 |
|-----|------|
| `<` (좌측 화살표) | 전일 날짜로 이동 |
| `>` (우측 화살표) | 익일 날짜로 이동 |
| 날짜 텍스트 | 당일: "TODAY", 다른 날짜: "5/5 (토)" 형식 |
| 📅 (캘린더 아이콘) | 터치 시 캘린더 바텀시트 호출 |

#### 캘린더 바텀시트

```
◀ yyyy년 mm월 ▶

일  월  화  수  목  금  토
              1   2   3   4   5   6
 7   8   9  10  11  12  13
14  15  16  17  18  19  20
21  22  23  24  25  26  27
28  29  30
```

- 날짜 선택 시 해당 날짜의 경기 리스트로 갱신
- Default: 당일(TODAY) 선택

### 3.5 경기 리스트

- 선택된 조건(종목, 날짜)에 맞는 경기 노출
- **정렬**: 최신순으로 상위 정렬
- 리스트 터치 시 경기 상세보기 페이지로 이동
- 상세 구성은 `MATCH_LIST.md` 참조

### 3.6 알림 목록 화면

헤더의 알림 아이콘(🔔) 터치 시 이동하는 알림 목록 화면입니다.

#### 화면 구성

```
┌─────────────────────────────────┐
│ ←      알림 목록                 │  ← 헤더
├─────────────────────────────────┤
│    [경기전]      [경기중]        │  ← 탭 메뉴
├─────────────────────────────────┤
│                                 │
│   알림 설정된 경기 리스트        │  ← 경기 카드 리스트
│                                 │
└─────────────────────────────────┘
```

#### 탭 구성

| 탭 | 설명 |
|----|------|
| 경기전 | 아직 시작하지 않은 알림 설정 경기 |
| 경기중 | 현재 진행 중인 알림 설정 경기 |

#### 경기 카드

- 알림 설정된 경기만 노출
- 경기 카드 구성은 메인 경기 리스트와 동일
- 카드 터치 시 경기 상세 페이지로 이동

### 3.7 경기 리스트 미니모드

경기 리스트를 축소된 형태로 표시하는 모드입니다.

#### 미니 카드 구성

```
┌─────────────────────────────────┐
│ 운영자 등록글 노출           🔔  │
├─────────────────────────────────┤
│ [홈팀]  NN : NN  [원정팀]       │
│  팀명   진행 중    팀명         │
├─────────────────────────────────┤
│ 승 N.NN  무 N.NN  패 N.NN      │
└─────────────────────────────────┘
```

- 리그 정보 생략, 핵심 정보만 표시
- "진행 중" 뱃지로 라이브 경기 표시

---

## 4. 데이터 요구사항

### 4.1 배너 데이터

| 필드명 | 타입 | 필수 | 설명 |
|-------|------|------|------|
| banner_id | String | Y | 배너 고유 ID |
| image_url | String | Y | 배너 이미지 URL |
| landing_url | String | N | 클릭 시 이동 URL |
| display_order | Integer | Y | 노출 순서 |
| start_date | DateTime | Y | 노출 시작일 |
| end_date | DateTime | Y | 노출 종료일 |
| is_active | Boolean | Y | 활성화 여부 |

### 4.2 종목 카테고리 데이터

| 필드명 | 타입 | 필수 | 설명 |
|-------|------|------|------|
| category_id | String | Y | 카테고리 고유 ID |
| category_name | String | Y | 카테고리명 (예: 축구) |
| category_code | String | Y | 카테고리 코드 (예: SOCCER) |
| icon_url | String | N | 카테고리 아이콘 URL |
| display_order | Integer | Y | 노출 순서 |
| is_active | Boolean | Y | 활성화 여부 |

### 4.3 서브 카테고리(리그) 데이터

| 필드명 | 타입 | 필수 | 설명 |
|-------|------|------|------|
| sub_category_id | String | Y | 서브 카테고리 고유 ID |
| parent_category_id | String | Y | 상위 카테고리 ID |
| sub_category_name | String | Y | 서브 카테고리명 (예: K리그1) |
| display_order | Integer | Y | 노출 순서 |
| is_active | Boolean | Y | 활성화 여부 |

---

## 5. API 요구사항

### 5.1 배너 목록 조회

```
GET /api/v1/banners
```

**Query Parameters**:
| 파라미터 | 타입 | 필수 | 설명 |
|---------|------|------|------|
| position | String | Y | 배너 위치 (예: LIVE_MAIN) |

**Response**:
```json
{
  "success": true,
  "data": {
    "banners": [
      {
        "banner_id": "BNR001",
        "image_url": "https://...",
        "landing_url": "https://...",
        "display_order": 1
      }
    ]
  }
}
```

### 5.2 종목 카테고리 목록 조회

```
GET /api/v1/categories
```

**Response**:
```json
{
  "success": true,
  "data": {
    "categories": [
      {
        "category_id": "CAT001",
        "category_name": "축구",
        "category_code": "SOCCER",
        "icon_url": "https://...",
        "sub_categories": [
          {
            "sub_category_id": "SUB001",
            "sub_category_name": "K리그1"
          }
        ]
      }
    ]
  }
}
```

### 5.3 경기 리스트 조회

```
GET /api/v1/matches
```

**Query Parameters**:
| 파라미터 | 타입 | 필수 | 설명 |
|---------|------|------|------|
| date | String | Y | 조회 날짜 (YYYY-MM-DD) |
| category_id | String | N | 종목 카테고리 ID |
| sub_category_id | String | N | 서브 카테고리 ID |
| page | Integer | N | 페이지 번호 (default: 1) |
| limit | Integer | N | 페이지당 개수 (default: 20) |

---

## 6. 관리자 기능

### 6.1 배너 관리

| 기능 | 설명 |
|-----|------|
| 배너 등록 | 이미지 업로드, 랜딩 URL 설정, 노출 기간 설정 |
| 배너 수정 | 등록된 배너 정보 수정 |
| 배너 삭제 | 배너 삭제 (soft delete) |
| 노출 순서 변경 | 드래그앤드롭으로 순서 변경 |
| 활성화/비활성화 | 배너 노출 on/off |

### 6.2 카테고리 관리

| 기능 | 설명 |
|-----|------|
| 종목 카테고리 관리 | 종목 추가/수정/삭제, 순서 변경 |
| 서브 카테고리 관리 | 리그/서브카테고리 추가/수정/삭제 |
| 카테고리 매핑 | 외부 API 카테고리와 내부 카테고리 매핑 |

### 6.3 Admin API 엔드포인트

| 메서드 | 엔드포인트 | 설명 |
|-------|-----------|------|
| POST | /admin/api/v1/banners | 배너 등록 |
| PUT | /admin/api/v1/banners/{id} | 배너 수정 |
| DELETE | /admin/api/v1/banners/{id} | 배너 삭제 |
| PUT | /admin/api/v1/banners/order | 배너 순서 변경 |
| POST | /admin/api/v1/categories | 카테고리 등록 |
| PUT | /admin/api/v1/categories/{id} | 카테고리 수정 |
| DELETE | /admin/api/v1/categories/{id} | 카테고리 삭제 |

---

## 7. 화면 전환 흐름

```
라이브 메인
    │
    ├── 알림 버튼 → 알림 목록 화면
    │
    ├── 배너 터치 → 랜딩 URL (외부/내부)
    │
    ├── 프로토 탭 → 프로토 화면 (PROTO_MAIN)
    │
    └── 경기 리스트 터치 → 경기 상세 (MATCH_DETAIL)
```

---

## 8. 참고사항

### 8.1 확인 필요 사항

- [ ] 종목 카테고리 API 자동 연동 vs 수동 관리 방식 결정
- [ ] 배너 자동롤링 3초 기준 조정 가능 여부
- [ ] 경기 리스트 무한 스크롤 vs 페이지네이션 방식

### 8.2 관련 문서

- 경기 리스트 상세: `MATCH_LIST.md`
- 경기 상세: `MATCH_DETAIL.md`
- 프로토 화면: `../03-proto-league/PROTO_MAIN.md`
