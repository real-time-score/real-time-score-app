# MY 메인 화면

## 1. 개요

마이페이지의 메인 화면으로, 사용자 프로필 정보와 주요 메뉴에 대한 진입점을 제공합니다.

**원본 PDF 참조**: 67-71페이지

---

## 2. 화면 구성

### 2.1 MY 메뉴 화면 (페이지 68)

```
┌─────────────────────────────────────┐
│ MY                           ⚙️     │  ← 헤더 (타이틀 + 설정)
├─────────────────────────────────────┤
│                                     │
│    ┌─────┐                          │
│    │ 프로필 │  닉네임            ▶  │  ← 프로필 영역
│    │ 이미지 │                       │
│    └─────┘                          │
│                                     │
├─────────────────────────────────────┤
│ 📋  내정보                      >   │
├─────────────────────────────────────┤
│ 🔔  알림설정                    >   │
├─────────────────────────────────────┤
│ 💰  포인트내역                  >   │
├─────────────────────────────────────┤
│ 📢  공지사항                    >   │
├─────────────────────────────────────┤
│ ❓  FAQ                         >   │
├─────────────────────────────────────┤
│ 📄  이용약관                    >   │
├─────────────────────────────────────┤
│ 🔒  개인정보처리방침            >   │
├─────────────────────────────────────┤
│ 📞  고객센터                    >   │
├─────────────────────────────────────┤
│ ℹ️  버전정보         현재 v1.0.0  >   │
├─────────────────────────────────────┤
│  홈  픽전문가  커뮤니티  랭킹  [MY]  │  ← 하단 탭바
└─────────────────────────────────────┘
```

### 2.2 주요 UI 요소

| 요소 | 설명 |
|------|------|
| 헤더 | "MY" 타이틀 + 설정(⚙️) 아이콘 |
| 프로필 이미지 | 원형 프로필 사진, 탭 시 내정보 화면 이동 |
| 닉네임 | 사용자 닉네임 표시 |
| 메뉴 리스트 | 내정보, 알림설정, 포인트내역, 공지사항, FAQ, 이용약관, 개인정보처리방침, 고객센터, 버전정보 |
| 앱 버전 | 현재 설치된 앱 버전 표시 (현재 v1.0.0) |
| 하단 탭바 | 홈, 픽전문가, 커뮤니티, 랭킹, MY(활성) |

### 2.3 내정보 화면

```
┌─────────────────────────────────────┐
│ ←         내정보                    │  ← 헤더
├─────────────────────────────────────┤
│                                     │
│         ┌─────────┐                 │
│         │  프로필  │                 │
│         │  이미지  │                 │
│         └─────────┘                 │
│          닉네임                      │
│                                     │
│  ┌─────────────┬─────────────┐      │
│  │   팔로워     │   팔로잉     │      │
│  │   NN개      │   NN개      │      │  ← 팔로워/팔로잉
│  └─────────────┴─────────────┘      │
│                                     │
├─────────────────────────────────────┤
│  정보수정                       >   │
├─────────────────────────────────────┤
│  홈  픽전문가  커뮤니티  랭킹  [MY]  │
└─────────────────────────────────────┘
```

### 2.4 팔로워/팔로잉 목록 화면

```
┌─────────────────────────────────────┐
│ ←         팔로워                    │  ← 헤더
├─────────────────────────────────────┤
│  [팔로워]       팔로잉              │  ← 탭
├─────────────────────────────────────┤
│ ┌───────────────────────────────┐   │
│ │ [프로필] 닉네임      [팔로잉]  │   │
│ └───────────────────────────────┘   │
│ ┌───────────────────────────────┐   │
│ │ [프로필] 닉네임      [팔로우]  │   │
│ └───────────────────────────────┘   │
│ ...                                 │
├─────────────────────────────────────┤
│  홈  픽전문가  커뮤니티  랭킹  [MY]  │
└─────────────────────────────────────┘
```

### 2.5 프로필 수정 화면

```
┌─────────────────────────────────────┐
│ ←         정보수정                  │  ← 헤더
├─────────────────────────────────────┤
│                                     │
│         ┌─────────┐                 │
│         │  프로필  │                 │
│         │  이미지  │                 │
│         └─────────┘                 │
│                                     │
│  닉네임                             │
│  ┌─────────────────────────────┐    │
│  │ 현재닉네임                  │    │
│  └─────────────────────────────┘    │
│                                     │
│  관심 종목                          │
│  ○ 축구  ○ 야구  ○ 농구  ...       │
│                                     │
├─────────────────────────────────────┤
│                                     │
│        [ 저장하기 ]                 │  ← 네이비 버튼
│                                     │
└─────────────────────────────────────┘
```

---

## 3. 프로필 편집 팝업 (페이지 69)

### 3.1 화면 구성

```
┌─────────────────────────────────────┐
│                              [X]    │
│                                     │
│         ┌─────────┐                 │
│         │  프로필  │                 │
│         │  이미지  │                 │
│         └─────────┘                 │
│         [이미지 변경]               │
│                                     │
│  닉네임                             │
│  ┌─────────────────────────────┐    │
│  │ 현재닉네임              [X] │    │
│  └─────────────────────────────┘    │
│  * 한글/영문/숫자 2-10자            │
│                                     │
│  ┌─────────────────────────────┐    │
│  │          저장하기            │    │
│  └─────────────────────────────┘    │
│                                     │
└─────────────────────────────────────┘
```

### 3.2 프로필 편집 기능

| 기능 | 설명 |
|------|------|
| 이미지 변경 | 갤러리에서 선택 또는 카메라 촬영 |
| 닉네임 변경 | 한글/영문/숫자 조합 2-10자 |
| 닉네임 중복 체크 | 실시간 또는 저장 시 검증 |
| 저장하기 | 변경사항 저장 후 팝업 닫기 |

### 3.3 닉네임 유효성 검사

- **길이**: 2자 이상 10자 이하
- **허용 문자**: 한글, 영문, 숫자
- **금지 항목**: 특수문자, 공백, 욕설/비속어
- **중복 검사**: 기존 사용 중인 닉네임 불가

---

## 4. 활동온도 상세 (페이지 70)

### 4.1 화면 구성

```
┌─────────────────────────────────────┐
│ [←]       활동온도                  │
├─────────────────────────────────────┤
│                                     │
│        현재 나의 활동온도           │
│           36.5°C                    │
│                                     │
│  ┌─────────────────────────────┐    │
│  │ 0°   ████████░░░░░░   100°  │    │
│  └─────────────────────────────┘    │
│                                     │
│  온도 UP 항목                       │
│  ┌─────────────────────────────┐    │
│  │ 📝 게시글 작성      +0.1°C  │    │
│  │ 💬 댓글 작성        +0.05°C │    │
│  │ ❤️ 좋아요 받음      +0.02°C │    │
│  │ ✓ 픽 적중           +0.5°C  │    │
│  │ 🏆 랭킹 상승        +0.3°C  │    │
│  └─────────────────────────────┘    │
│                                     │
│  온도 DOWN 항목                     │
│  ┌─────────────────────────────┐    │
│  │ ⚠️ 신고 접수        -1.0°C  │    │
│  │ 🚫 게시글 삭제      -0.5°C  │    │
│  │ ❌ 픽 미적중        -0.1°C  │    │
│  └─────────────────────────────┘    │
│                                     │
│  * 활동온도는 커뮤니티 활동과       │
│    픽 적중률을 기반으로 산정됩니다  │
│                                     │
└─────────────────────────────────────┘
```

### 4.2 활동온도 시스템

| 항목 | 온도 변화 | 설명 |
|------|----------|------|
| 게시글 작성 | +0.1°C | 커뮤니티 게시글 작성 시 |
| 댓글 작성 | +0.05°C | 댓글 작성 시 |
| 좋아요 받음 | +0.02°C | 게시글/댓글에 좋아요 받을 때 |
| 픽 적중 | +0.5°C | 픽전문가 픽이 적중했을 때 |
| 랭킹 상승 | +0.3°C | 주간/월간 랭킹 상승 시 |
| 신고 접수 | -1.0°C | 다른 사용자로부터 신고 접수 시 |
| 게시글 삭제 | -0.5°C | 관리자에 의한 게시글 삭제 시 |
| 픽 미적중 | -0.1°C | 픽이 미적중했을 때 |

### 4.3 온도 범위

**✅ 확정 정책 (2026-01-06)**:
- **최저**: 0°C
- **기본(시작)**: 36.5°C (신규 가입 시 디폴트)
- **최고**: 100°C
- **온도 하락 제한**: 없음 (제한 없이 하락 가능)

---

## 5. 인증배지 상세 (페이지 71)

### 5.1 화면 구성

```
┌─────────────────────────────────────┐
│ [←]       인증배지                  │
├─────────────────────────────────────┤
│                                     │
│  획득한 배지 (3/12)                 │
│                                     │
│  ┌───────┐ ┌───────┐ ┌───────┐     │
│  │  🏆   │ │  ⭐   │ │  🔥   │     │
│  │ 적중왕 │ │ 인기인 │ │ 열정러 │     │
│  │ 획득   │ │ 획득   │ │ 획득   │     │
│  └───────┘ └───────┘ └───────┘     │
│                                     │
│  미획득 배지 (9/12)                 │
│                                     │
│  ┌───────┐ ┌───────┐ ┌───────┐     │
│  │  🎯   │ │  📝   │ │  💎   │     │
│  │ 분석가 │ │ 작가  │ │ VIP  │     │
│  │ 미획득 │ │ 미획득 │ │ 미획득 │     │
│  └───────┘ └───────┘ └───────┘     │
│         ... (더 보기)               │
│                                     │
│  ────────────────────────────────   │
│                                     │
│  배지 획득 조건                     │
│                                     │
│  🏆 적중왕                          │
│  연속 10회 픽 적중 시 획득          │
│                                     │
│  ⭐ 인기인                          │
│  게시글 좋아요 100개 달성 시 획득   │
│                                     │
└─────────────────────────────────────┘
```

### 5.2 배지 종류

| 배지 | 이름 | 획득 조건 |
|------|------|----------|
| 🏆 | 적중왕 | 연속 10회 픽 적중 |
| ⭐ | 인기인 | 게시글 좋아요 누적 100개 |
| 🔥 | 열정러 | 30일 연속 출석 |
| 🎯 | 분석가 | 픽 100회 이상 등록 |
| 📝 | 작가 | 게시글 50개 이상 작성 |
| 💎 | VIP | 유료 픽 10회 이상 구매 |
| 🎖️ | 베테랑 | 가입 후 365일 경과 |
| 💬 | 소통왕 | 댓글 500개 이상 작성 |
| 🌟 | 올스타 | 월간 랭킹 1위 달성 |
| 🔰 | 신인왕 | 가입 첫 주 픽 5회 적중 |
| 📊 | 데이터맨 | 경기 분석 100회 이상 조회 |
| 👑 | 레전드 | 누적 적중률 80% 이상 (최소 50회) |

### 5.3 배지 표시 규칙

- **프로필 표시**: 최대 3개까지 대표 배지 설정 가능
- **정렬 순서**: 획득 날짜 최신순 또는 사용자 선택순
- **미획득 배지**: 흑백 또는 잠금 아이콘으로 표시

---

## 6. 데이터 요구사항

### 6.1 사용자 프로필 데이터

```typescript
interface UserProfile {
  id: string;
  nickname: string;
  profileImageUrl: string | null;
  activityTemperature: number;      // 0 ~ 100
  creditBalance: number;            // 보유 크레딧
  badges: Badge[];                  // 획득 배지 목록
  representativeBadges: string[];   // 대표 배지 ID (최대 3개)
  createdAt: string;
  lastActiveAt: string;
}

interface Badge {
  id: string;
  name: string;
  icon: string;
  description: string;
  achievedAt: string | null;        // null이면 미획득
  condition: string;
}

interface TemperatureHistory {
  id: string;
  userId: string;
  changeType: 'UP' | 'DOWN';
  changeAmount: number;
  reason: string;
  previousTemp: number;
  newTemp: number;
  createdAt: string;
}
```

### 6.2 앱 정보 데이터

```typescript
interface AppInfo {
  currentVersion: string;
  latestVersion: string;
  updateRequired: boolean;
  storeUrl: string;
}
```

---

## 7. API 요구사항

### 7.1 프로필 조회

```
GET /api/v1/users/me/profile
```

**Response**
```json
{
  "id": "user_123",
  "nickname": "축구매니아",
  "profileImageUrl": "https://...",
  "activityTemperature": 36.5,
  "creditBalance": 1234,
  "badges": [...],
  "representativeBadges": ["badge_1", "badge_2"]
}
```

### 7.2 프로필 수정

```
PATCH /api/v1/users/me/profile
```

**Request**
```json
{
  "nickname": "새닉네임",
  "profileImage": "base64 encoded image"
}
```

### 7.3 닉네임 중복 확인

```
GET /api/v1/users/check-nickname?nickname=새닉네임
```

**Response**
```json
{
  "available": true
}
```

### 7.4 활동온도 상세 조회

```
GET /api/v1/users/me/temperature
```

**Response**
```json
{
  "currentTemperature": 36.5,
  "history": [
    {
      "changeType": "UP",
      "changeAmount": 0.5,
      "reason": "픽 적중",
      "createdAt": "2025-01-15T10:30:00Z"
    }
  ],
  "temperatureRules": [...]
}
```

### 7.5 배지 목록 조회

```
GET /api/v1/users/me/badges
```

**Response**
```json
{
  "achieved": [...],
  "notAchieved": [...],
  "total": 12,
  "achievedCount": 3
}
```

### 7.6 대표 배지 설정

```
PUT /api/v1/users/me/badges/representative
```

**Request**
```json
{
  "badgeIds": ["badge_1", "badge_2", "badge_3"]
}
```

### 7.7 로그아웃

```
POST /api/v1/auth/logout
```

---

## 8. 관리자 기능

### 8.1 사용자 프로필 관리

| 기능 | 설명 |
|------|------|
| 프로필 조회 | 사용자 프로필 정보 조회 |
| 닉네임 강제 변경 | 부적절한 닉네임 강제 변경 |
| 프로필 이미지 삭제 | 부적절한 이미지 삭제 |

### 8.2 활동온도 관리

| 기능 | 설명 |
|------|------|
| 온도 수동 조정 | 관리자 판단에 의한 온도 조정 |
| 온도 규칙 설정 | 온도 변화 규칙 CRUD |
| 온도 히스토리 조회 | 사용자별 온도 변화 이력 조회 |

### 8.3 배지 관리

| 기능 | 설명 |
|------|------|
| 배지 CRUD | 배지 생성/수정/삭제 |
| 배지 조건 설정 | 배지 획득 조건 설정 |
| 배지 수동 부여/회수 | 특정 사용자에게 배지 부여/회수 |

### 8.4 필요 API (Admin)

```
GET    /api/admin/users/{userId}/profile
PATCH  /api/admin/users/{userId}/profile
PUT    /api/admin/users/{userId}/temperature
GET    /api/admin/users/{userId}/temperature/history
GET    /api/admin/badges
POST   /api/admin/badges
PUT    /api/admin/badges/{badgeId}
DELETE /api/admin/badges/{badgeId}
POST   /api/admin/users/{userId}/badges/{badgeId}/grant
DELETE /api/admin/users/{userId}/badges/{badgeId}/revoke
GET    /api/admin/temperature-rules
PUT    /api/admin/temperature-rules
```

---

## 9. 비즈니스 로직

### 9.1 활동온도 자동 계산

```
1. 사용자 활동 발생 시 해당 활동에 대한 온도 변화값 조회
2. 현재 온도 + 변화값 계산
3. 최소(0)/최대(100) 범위 내로 제한
4. 온도 히스토리 기록
5. 실시간 반영
```

### 9.2 배지 자동 부여

```
1. 배지 획득 조건 주기적 체크 (예: 매 시간)
2. 조건 충족 사용자 식별
3. 배지 자동 부여
4. 푸시 알림 발송
```

### 9.3 로그아웃 처리

```
1. 서버에 로그아웃 요청
2. 로컬 토큰/캐시 삭제
3. 로그인 화면으로 이동
```

---

## 10. 화면 전환

| 액션 | 이동 화면 |
|------|----------|
| 프로필 이미지 탭 | 프로필 편집 팝업 |
| 인증배지 영역 탭 | 인증배지 상세 화면 |
| 활동온도 영역 탭 | 활동온도 상세 화면 |
| 충전하기 버튼 탭 | 크레딧 충전 화면 (POINTS.md) |
| 공지사항 탭 | 공지사항 리스트 (NOTIFICATIONS.md) |
| FAQ 탭 | FAQ 리스트 (FAQ.md) |
| 1:1 문의 탭 | 1:1 문의 화면 (FAQ.md) |
| 앱설정 탭 | 앱설정 화면 (SETTINGS.md) |
| 약관 탭 | 약관 메뉴 리스트 (TERMS.md) |
| 로그아웃 탭 | 확인 모달 → 로그인 화면 |
